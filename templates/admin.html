<!doctype html>
<html>

<head>
    <title>Crawler Admin</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">

    <script src="{{ url_for('static', filename='js/npm_charts.js') }}"></script>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='js/charts.js') }}"></script>
    <style>
        /* CSS from admin.css (Simulated) */
    </style>

</head>

<body>
    <h1>Web Crawler Admin</h1>

    <form method="POST" action="{{ url_for('add_to_queue') }}">
        <label for="start_url">Start URL:</label>
        <input type="text" id="start_url" name="start_url" required>

        <label for="max_depth">Max depth:</label>
        <input type="number" id="max_depth" name="max_depth" value="2" min="1" required>

        <input type="submit" value="Add to Queue">
    </form>

    {% if message %}
    <p class="message">{{ message }}</p>
    {% endif %}

    <div class="button-controls">
        <button id="pause-btn" onclick="pauseCrawl()">Pause Crawl</button>
        <button id="resume-btn" onclick="resumeCrawl()">Resume Crawl</button>
    </div>

    <div class="stats-box">
        <p id="refresh-explain">Statistics refresh every 5 seconds.</p>

        <div id="crawler-status-container">
            Crawler Status: <span id="crawler-status">Loading...</span>
            <span id="pause-status">...</span>
        </div>

        <div>Current queue size (pending items): <span id="queue-size">Loading...</span></div>
        <div>Crawled items: <span id="crawled-items">Loading...</span></div>
        <div>Failed items: <span id="failed-items">Loading...</span></div>

        <br>

    </div>


  <div id="chartSection">
    <div id="chartContainer">
      <canvas id="crawledChart"></canvas>
      <canvas id="pendingChart"></canvas>

      <canvas id="crawledRateChart"></canvas>
      <canvas id="pendingRateChart"></canvas>
    </div>
  </div>

</body>

</html>